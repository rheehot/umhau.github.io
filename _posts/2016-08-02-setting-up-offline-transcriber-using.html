---
layout: post
title: 'Setting Up an Offline Transcriber Using Kaldi - Part 3: Sphinx, not Kaldi'
date: '2016-08-02T18:36:00.003-04:00'
author: umhau
tags:
- Linux
- speech to text
- success
- Mint 17.3
- pulseaudio
- STT
- package installation
- audio transcription
- PocketSphinx 5prealpha
categories: experiments walkthroughs
modified_time: '2016-11-23T14:46:52.112-05:00'
blogger_id: tag:blogger.com,1999:blog-2584289275272726799.post-6597630893540419496
blogger_orig_url: http://nixingaround.blogspot.com/2016/08/setting-up-offline-transcriber-using.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">How to install PocketSphinx 5Prealpha on Mint 17.3. <br /><br />We're going to install work with these packages in a folder located at ~/tools. &nbsp;Make sure this exists.<br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">mkdir ~/tools</pre>Download pocketsphinx and sphinxbase from the downloads page:<br /><ul style="text-align: left;"><li>Look for the package called<b> sphinxbase-5prealpha.tar.gz</b>. &nbsp;<a href="https://sourceforge.net/projects/cmusphinx/files/sphinxbase/5prealpha/">https://sourceforge.net/projects/cmusphinx/files/sphinxbase/5prealpha/</a></li><li>Look for the package called&nbsp;<b>pocketsphinx-5prealpha.tar.gz</b>. &nbsp;<a href="https://sourceforge.net/projects/cmusphinx/files/pocketsphinx/5prealpha/">https://sourceforge.net/projects/cmusphinx/files/pocketsphinx/5prealpha/</a></li></ul><div>Move the files from your downloads to your project folder and extract them. <br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">tar -xzf ~/Downloads/sphinxbase-5prealpha.tar.gz -C ~/tools/<br />tar -xzf ~/Downloads/pocketsphinx-5prealpha.tar.gz -C ~/tools/</pre></div><div>Make sure dependencies are installed. &nbsp;You're installing&nbsp;libpulse-dev so that sphinxbase will configure itself to work with PulseAudio, the recommended audio framework on Ubuntu (and, by extension, on Mint).</div><div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">sudo apt-get install python-dev pulseaudio libpulse-dev gcc automake autoconf libtool bison swig</pre></div><div>Note: make sure that swig is at least version 2.0. &nbsp;You can check with this command:</div><div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">dpkg -p swig | grep Version</pre></div><div>Move into the sphinxbase folder.</div><div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">cd ~/tools/sphinxbase-5prealpha</pre></div><div>Since you downloaded the release version, the configure file has already been generated. &nbsp;It's time to configure, make and make install!</div><div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">./configure<br />make<br />sudo make install</pre></div><div>Sphinxbase is installed in /usr/local/lib; in case Mint 17 doesn't look there for program libraries, you have to manually tell it to use that location. &nbsp;Here's the commands:</div><div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">export LD_LIBRARY_PATH=/usr/local/lib<br />export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig</pre></div><div>Now move into the pocketsphinx folder and do the same installation:</div><div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">cd ~/tools/pocketsphinx-5prealpha<br />./configure<br />make<br />sudo make install</pre></div><div>you can test the installation by running the following; it should be recognizing what you speak into the microphone. <br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">pocketsphinx_continuous -inmic yes</pre></div><div>If you want to transcribe a file, use this command:<br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;">pocketsphinx_continuous -infile file.wav</pre>If you run into trouble, <a href="http://cmusphinx.sourceforge.net/wiki/tutorialpocketsphinx" target="_blank">this</a> should help.</div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div></div>