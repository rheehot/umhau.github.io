---
layout: post
title: Set static IP in Ubuntu Server 16.04.1 LTS (failed)
date: '2017-01-19T19:12:00.000-05:00'
author: umhau
tags: 
modified_time: '2017-01-19T19:12:17.079-05:00'
blogger_id: tag:blogger.com,1999:blog-2584289275272726799.post-276598058558744173
blogger_orig_url: https://www.blogger.com/comment.g?blogID=2584289275272726799&postID=276598058558744173&isPopup=true
---

Set a static IP address<br /><br />Find out what your ethernet hardware is named. &nbsp;Run:<br /><pre style="background-color: #eff0f1; border: 0px; color: #333333; font-size: 14px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;">ifconfig</pre>In my case, the result looks like this ('X marks the spot' for potential <a href="https://en.wikipedia.org/wiki/Personally_identifiable_information" target="_blank">PII</a>)<br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">eth0      Link encap:Ethernet  HWaddr XX:XX:XX:XX:XX:XX  <br />          inet addr:XXX.XXX.X.XXX  Bcast:XXX.XXX.1.255  Mask:255.255.255.0<br />          inet6 addr: XXXX::XXXX:XXXX:XXXX:XXXX/XX Scope:Link<br />          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1<br />          RX packets:2186 errors:0 dropped:0 overruns:0 frame:0<br />          TX packets:523 errors:0 dropped:0 overruns:0 carrier:0<br />          collisions:0 txqueuelen:1000 <br />          RX bytes:229234 (229.2 KB)  TX bytes:60219 (60.2 KB)<br />          Interrupt:30 <br /><br />lo        Link encap:Local Loopback  <br />          inet addr:127.0.0.1  Mask:255.0.0.0<br />          inet6 addr: ::1/128 Scope:Host<br />          UP LOOPBACK RUNNING  MTU:65536  Metric:1<br />          RX packets:160 errors:0 dropped:0 overruns:0 frame:0<br />          TX packets:160 errors:0 dropped:0 overruns:0 carrier:0<br />          collisions:0 txqueuelen:1 <br />          RX bytes:11840 (11.8 KB)  TX bytes:11840 (11.8 KB)</span></span><span style="color: #333333; font-size: 14px;"><br /></span></pre><div style="text-align: justify;">On the right, notice the&nbsp;wlan0. &nbsp;Also observe the entries labeled "inet addr" and "Mask". "Mask" is your "netmask" later. &nbsp;Take a look at what the "inet address" is. &nbsp;The second set of digits from the right is usually a 1. &nbsp;On a standard router, you should be able to make that a 2 without problems: the router generally won't assign IP addresses in that range, but will accept them. &nbsp;That way your static IP doesn't try to take the place of a preexisting IP address later on. &nbsp;Your adjusted "inet address" is "address" below.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Next, find out the gateway address:</div><div style="text-align: justify;"><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">ip route | grep default</span></span></pre></div><div style="text-align: justify;">The result will look something like this. &nbsp;</div><div style="text-align: justify;"><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">default via XXX.XXX.XXX.XXX dev eth0</span></span></pre></div><div style="text-align: justify;">Observe the bit that's X's in my example. &nbsp;That's what you want.</div><br />Now put it all together: you're going to change the /etc/network/interfaces file entry corresponding to your network card. &nbsp;Do make sure that you've been collecting information related to the <i>ethernet</i>&nbsp;card, not the wireless card. <br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">sudo nano /etc/network/interfaces</span></span></pre>Mine looks like this:<br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;"># This file describes the network interfaces available on your system<br /># and how to activate them. For more information, see interfaces(5).<br /><br />source /etc/network/interfaces.d/*<br /><br /># The loopback network interface<br />auto lo<br />iface lo inet loopback<br /><br /># The primary network interface<br />auto eth0<br />iface eth0 inet dhcp</span></span><br /></pre><div style="text-align: justify;">At the bottom, where it says "primary network interface": that's where we're going to change the entry and manually specify the network settings. &nbsp;</div><div style="text-align: justify;"><br /></div>First: change "dhcp" to "static". <br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">iface eth0 inet static</span></span></pre>Then, add three more lines below that one. &nbsp;These correspond to the values you found above. <br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">address XXX.XXX.X.XXX<br />netmask XXX.XXX.X.XXX<br />gateway XXX.XXX.X.XXX</span></span></pre>The final result should look something like this:<br /><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;"># This file describes the network interfaces available on your system<br /># and how to activate them. For more information, see interfaces(5).<br /><br />source /etc/network/interfaces.d/*<br /><br /># The loopback network interface<br />auto lo<br />iface lo inet loopback<br /><br /># The primary network interface<br />auto eth0<br />iface eth0 inet static<br />address XXX.XXX.X.XXX<br />netmask XXX.XXX.X.XXX<br />gateway XXX.XXX.X.XXX</span></span><br /></pre><div style="text-align: justify;">Reboot and see if it works. &nbsp;If it doesn't, google is your friend. &nbsp;And if google isn't being nice, then just don't restart your cluster. &nbsp;</div><pre style="background-color: #eff0f1; border: 0px; margin-bottom: 1em; overflow: auto; padding: 5px; text-align: justify; width: auto; word-wrap: normal;"><span style="color: #333333;"><span style="font-size: 14px;">ifconfig</span></span></pre><br />